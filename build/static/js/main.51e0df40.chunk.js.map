{"version":3,"sources":["api/api.js","config/index.js","pages/Dashboard.js","images/splash.png","pages/Login.js","App.js","reportWebVitals.js","index.js"],"names":["axios","defaults","baseURL","headers","post","interceptors","response","use","error","Promise","reject","Api","authenticate","data","a","JSON","stringify","setToken","token","getUser","setAuthToken","get","logOut","removeToken","localStorage","getItem","getToken","setItem","authToken","removeItem","Dashboard","history","useState","loading","setLoading","useEffect","console","log","status","push","spinning","size","Login","React","setError","onFinish","values","remember","user","message","success","setTimeout","justify","align","xs","lg","className","src","splash","alt","type","showIcon","name","initialValues","Item","rules","required","prefix","UserOutlined","placeholder","Password","LockOutlined","valuePropName","htmlType","App","path","component","from","to","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.51e0df40.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { BASE_URL } from \"../config/index\";\n\naxios.defaults.baseURL = `${BASE_URL}/api/v1`;\naxios.defaults.headers.post[\"Content-Type\"] = \"application/json\";\naxios.defaults.headers[\"Content-Type\"] = \"application/json\";\n\naxios.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    return Promise.reject(error.response);\n  }\n);\n\nconst Api = {\n  authenticate: async (data) => {\n    try {\n      const response = await axios.post(\"/authenticate\", JSON.stringify(data));\n      await Api.setToken(response.data.token);\n      return response;\n    } catch (err) {\n      return err;\n    }\n  },\n  getUser: async () => {\n    await Api.setAuthToken();\n    try {\n      const response = await axios.get(\"/users\");\n      return response;\n    } catch (err) {\n      return err;\n    }\n  },\n  logOut: async () => {\n    await Api.removeToken();\n    const response = await localStorage.getItem(\"authToken\");\n    return response;\n  },\n  setAuthToken: async () => {\n    axios.defaults.headers[\"Authorization\"] = await Api.getToken();\n  },\n  setToken: async (token) => {\n    await localStorage.setItem(\"authToken\", token);\n  },\n  getToken: async () => {\n    const authToken = await localStorage.getItem(\"authToken\");\n    return authToken;\n  },\n  removeToken: async () => {\n    await localStorage.removeItem(\"authToken\");\n  },\n};\n\nexport default Api;\n","export const BASE_URL = \n    process.env.NODE_ENV === 'development' \n    ? 'http://localhost:8000/api/v1\"'\n    : '/api'\n","import React, { useEffect, useState } from \"react\";\nimport { Spin } from \"antd\";\nimport Api from \"../api/api\";\n\nexport default function Dashboard({ history }) {\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n        setLoading(true)\n      const response = await Api.getUser();\n      console.log(response.data);\n      if (response && response.status === 401) {\n        await Api.logOut();\n        history.push(\"/login\");\n      }\n      setLoading(false)\n    })();\n  }, []);\n\n  return (\n    <>\n      <Spin spinning={loading} size=\"large\">\n        <div>Dashboard</div>\n      </Spin>\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/splash.d2f27d27.png\";","import React from \"react\";\nimport {\n  Row,\n  Col,\n  Form,\n  Input,\n  Button,\n  Checkbox,\n  message,\n  Spin,\n  Alert,\n} from \"antd\";\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\n\nimport splash from \"../images/splash.png\";\nimport Api from \"../api/api\";\n\nexport default function Login({ history }) {\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(\"\");\n\n  const success = () => {\n    message.success(\"Login success\");\n  };\n\n  const onFinish = async (values) => {\n    setLoading(true);\n    delete values.remember;\n\n    const response = await Api.authenticate({ user: values });\n    if (response && response.status === 200) {\n        console.log(response)\n       success();\n    setTimeout(() => {\n        history.push(\"dashboard\");\n    }, 3000)\n    \n    } else {\n      setError(response.data.message);\n    }\n    setLoading(false);\n  };\n\n  //   const onFinishFailed = (errorInfo) => {\n  //     console.log(\"Failed:\", errorInfo);\n  //   };\n\n  return (\n    <>\n      <Spin spinning={loading} size=\"large\">\n        <Row justify=\"space-around\" align=\"middle\">\n          <Col xs={0} lg={16}>\n            <img className=\"splash\" src={splash} alt=\"\" />\n          </Col>\n          <Col xs={24} lg={8} className=\"form\">\n            <Col>\n              <div>\n                <h1 className=\"text\">Welcome Back!</h1>\n                <h2 className=\"text\">\n                  Fill in your login credentials to\n                  <span>pick up where you left off</span>\n                </h2>\n              </div>\n            </Col>\n            {error && (\n              <Alert className=\"mb\" message={error} type=\"error\" showIcon />\n            )}\n\n            <Form\n              name=\"basic\"\n              initialValues={{\n                remember: true,\n              }}\n              onFinish={onFinish}\n            >\n              <Form.Item\n                className=\"form-radius\"\n                name=\"email\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"Please input your username!\",\n                  },\n                ]}\n              >\n                <Input\n                  prefix={\n                    <UserOutlined className=\"site-form-item-icon login-input\" />\n                  }\n                  placeholder=\"Username\"\n                />\n              </Form.Item>\n\n              <Form.Item\n                name=\"password\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"Please input your password!\",\n                  },\n                ]}\n              >\n                <Input.Password\n                  prefix={\n                    <LockOutlined className=\"site-form-item-icon login-input\" />\n                  }\n                  type=\"password\"\n                  placeholder=\"Password\"\n                />\n              </Form.Item>\n\n              <Form.Item name=\"remember\" valuePropName=\"checked\">\n                <Checkbox>Remember me</Checkbox>\n              </Form.Item>\n\n              <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Submit\n                </Button>\n              </Form.Item>\n            </Form>\n          </Col>\n        </Row>\n      </Spin>\n    </>\n  );\n}\n","// import React from 'react'\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport Dashboard from \"./pages/Dashboard\";\nimport Login from \"./pages/Login\";\nimport './App.css'\n\n\nexport default function App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/login\" component={Login} />\n        <Route  path=\"/dashboard\" component={Dashboard} />\n        <Redirect from=\"/\" to=\"/login\" />\n      </Switch>\n    </BrowserRouter>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"antd/dist/antd.css\";\nimport { HelmetProvider } from \"react-helmet-async\";\n\nReactDOM.render(\n  <HelmetProvider>\n    <App />\n  </HelmetProvider>,\n\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}